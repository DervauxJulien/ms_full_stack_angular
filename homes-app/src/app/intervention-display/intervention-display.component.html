<table mat-table [dataSource]="interventionData" class="mat-elevation-z8">
  <!-- Colonne Actions (test) -->
  <ng-container matColumnDef="test">
    <th mat-header-cell *matHeaderCellDef> Actions </th>
    <td mat-cell *matCellDef="let element">
      <button mat-button (click)="toggleDescription(element)">
        {{ expandedElement === element ? 'Voir moins' : 'Voir plus' }}
      </button>
    </td>
  </ng-container>

  <!-- Colonne ID_INTERVENTION -->
  <ng-container matColumnDef="ID_INTERVENTION">
    <th mat-header-cell *matHeaderCellDef> ID </th>
    <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
  </ng-container>

  <!-- Colonne DESCRIPTION -->
  <ng-container matColumnDef="DESCRIPTION">
    <th mat-header-cell *matHeaderCellDef> Description </th>
    <td mat-cell *matCellDef="let element"> {{ element.description }} </td>
  </ng-container>

  <!-- Colonne CREATION_DATE -->
  <ng-container matColumnDef="CREATION_DATE">
    <th mat-header-cell *matHeaderCellDef> Date de création </th>
    <td mat-cell *matCellDef="let element"> {{ element.CREATION_DATE }} </td>
  </ng-container>

  <!-- Colonne STATUS -->
  <ng-container matColumnDef="STATUS">
    <th mat-header-cell *matHeaderCellDef> Status </th>
    <td mat-cell *matCellDef="let element"> {{ element.STATUS }} </td>
  </ng-container>

  <!-- Ligne des entêtes -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

  <!-- Lignes principales et détails -->
  <ng-container *ngFor="let element of interventionData">
    <!-- Ligne principale -->
    <tr mat-row [class.selected]="expandedElement === element">
      <td mat-cell *ngFor="let column of displayedColumns">
        <ng-container *ngIf="column !== 'test'">
          {{ element[column] || '' }}
        </ng-container>
        <ng-container *ngIf="column === 'test'">
          <button mat-button (click)="toggleDescription(element)">
            {{ expandedElement === element ? 'Voir moins' : 'Voir plus' }}
          </button>
        </ng-container>
      </td>
    </tr>

    <!-- Ligne des détails -->
    <tr mat-row *ngIf="expandedElement === element" class="expanded-row">
      <td [attr.colspan]="displayedColumns.length">
        <div class="expanded-content">
          <p><strong>Description détaillée :</strong> {{ element.description }}</p>
        </div>
      </td>
    </tr>
  </ng-container>
</table>
